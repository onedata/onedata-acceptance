version: 2
plan:
  project-key: VFS
  key: OAS
  name: oneclient acceptance src
  description: oneclient acceptance tests using environment deployed from sources
repositories:
- onedata-acceptance:
    scope: global
branches:
  create: manually
  delete:
    after-deleted-days: never
    after-inactive-days: 30
  link-to-jira: true
notifications: []
labels: []
triggers: []
dependencies:
  require-all-stages-passing: false
  enabled-for-branches: true
  block-strategy: none
  plans: []
other:
  concurrent-build-plugin: '3'
  all-other-apps:
    custom.com.atlassian.bamboo.plugin.hungbuildkiller:
      stopped.enabled: 'true'
      add_comment_when_hung.enabled: 'true'
stages:
- Acceptance Test:
    manual: false
    final: false
    jobs:
    - multiprovider s3 directory stat proxyio
    - multiprovider directory CRUD proxyio
    - multiprovider replication directio
    - singleprovider regular file CRUD multiclient directio
    - regular file stat proxyio
    - regular file CRUD directio
    - multiprovider proxy s3 directory CRUD proxyio
    - directory CRUD
    - multiprovider s3 directory CRUD proxyio
    - multiprovider directory CRUD directio
    - singleprovider directory stat multiclient directio
    - luma proxy
    - regular file CRUD proxyio
    - singleprovider regular file stat multiclient directio
    - multiprovider directory stat proxyio
    - multiprovider replication proxyio
    - singleprovider regular file CRUD multiclient proxyio
    - multiprovider proxy s3 directory stat proxyio
    - multiprovider regular file stat directio
    - luma provider
    - directory stat
    - multiprovider directory stat directio
    - multiprovider proxy regular file CRUD proxyio
    - singleprovider directory CRUD multiclient directio
    - multiprovider proxy s3 regular file stat proxyio
    - authorization
    - singleprovider regular file stat multiclient proxyio
    - multiprovider proxy directory stat proxyio
    - multiprovider regular file stat proxyio
    - multiprovider regular file CRUD directio
    - multiclient authorization
    - multiprovider s3 regular file stat proxyio
    - multiprovider proxy s3 regular file CRUD proxyio
    - multiprovider proxy regular file stat proxyio
    - singleprovider extended attributes
    - regular file stat directio
    - multiprovider proxy directory CRUD proxyio
    - multiprovider regular file CRUD proxyio
    - multiprovider s3 regular file CRUD proxyio
multiprovider s3 directory stat proxyio:
  key: MSDSP
  other: &common-opts
    clean-working-dir: true
  tasks:
  - script: &clear-env
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - curl ${bamboo.OnedataFinalTasksURL} | bash -
      description: Clear env
  - script: &restart-minikube
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - sudo ${HOME}/restart_minikube.sh
      description: Restart minikube
  - checkout: &checkout
      path: onedata-acceptance
      force-clean-build: 'true'
      description: Checkout Default Repository
  - script: &init-submodules
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - |-
        git remote set-url origin ${bamboo.repository.git.repositoryUrl}
        git remote -v
        make submodules
      working-dir: onedata-acceptance
      description: Init submodules
  - script: &download-artifacts
      interpreter: SHELL
      scripts:
      - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
      working-dir: onedata-acceptance
      description: Download artifacts
  - script: &run-acceptance-tests
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_multi_directory_stat ENV_FILE=multiprovider_s3 IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
      working-dir: onedata-acceptance
      description: Run acceptance mixed tests in Chrome
  final-tasks:
  - test-parser: &parse-test-results
      type: junit
      ignore-time: 'false'
      test-results: onedata-acceptance/test-reports/results*.xml
      description: Parse test results
  - script: &pack-logs
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - |-
        cp onedata-acceptance/test-reports/*.xml onedata-acceptance/tests/oneclient/logs
        cp onedata-acceptance/one_env/sources_info.yaml onedata-acceptance/tests/oneclient/logs
        mv onedata-acceptance/tests/oneclient/logs/*/*/images.yaml onedata-acceptance/tests/oneclient/logs
        tar czf test_logs.tar.gz onedata-acceptance/tests/oneclient/logs
      description: Pack logs
  - script: &clear-env-and-working-dir
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - curl ${bamboo.OnedataFinalTasksURL} | bash -
      working-dir: onedata-acceptance
      description: Clear env and working dir
  artifacts: &artifacts
  - name: test_logs.tar.gz
    pattern: test_logs.tar.gz
    shared: false
    required: false
  requirements: &requirements
  - minikube
  artifact-subscriptions: []
multiprovider directory CRUD proxyio:
  key: MDCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_CRUD ENV_FILE=multiprovider IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider replication directio:
  key: MRD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multiprovider_replication ENV_FILE=multiprovider_directio_env IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
singleprovider regular file CRUD multiclient directio:
  key: SRFCMD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_CRUD ENV_FILE=singleprovider_multiclient_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
regular file stat proxyio:
  key: RFSP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_reg_file_stat ENV_FILE=singleprovider_singleclient_proxyio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
regular file CRUD directio:
  key: RFCD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_reg_file_CRUD ENV_FILE=singleprovider_singleclient_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider proxy s3 directory CRUD proxyio:
  key: MPSDCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_CRUD ENV_FILE=multiprovider_proxy_s3 IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
directory CRUD:
  key: DC
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_directory_CRUD ENV_FILE=singleprovider_singleclient_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider s3 directory CRUD proxyio:
  key: MSDCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_CRUD ENV_FILE=multiprovider_s3 IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider directory CRUD directio:
  key: MDCD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_CRUD ENV_FILE=multiprovider_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
singleprovider directory stat multiclient directio:
  key: SDSMD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_stat ENV_FILE=singleprovider_multiclient_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
luma proxy:
  key: LPR
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_luma_proxy ENV_FILE=singleprovider_multistorage IGNORE_XFAIL=1 TIMEOUT=600 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
regular file CRUD proxyio:
  key: RFCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_reg_file_CRUD ENV_FILE=singleprovider_singleclient_proxyio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
singleprovider regular file stat multiclient directio:
  key: SRFSMD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_stat ENV_FILE=singleprovider_multiclient_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider directory stat proxyio:
  key: MDSP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_stat ENV_FILE=multiprovider IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider replication proxyio:
  key: MRP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multiprovider_replication ENV_FILE=multiprovider_1space IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
singleprovider regular file CRUD multiclient proxyio:
  key: SRFCMP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_CRUD ENV_FILE=singleprovider_multiclient_proxyio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider proxy s3 directory stat proxyio:
  key: MPSDSP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_stat ENV_FILE=multiprovider_proxy_s3 IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider regular file stat directio:
  key: MRFSD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_stat ENV_FILE=multiprovider_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
luma provider:
  key: LP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_luma_provider ENV_FILE=singleprovider_multistorage TIMEOUT=720 IGNORE_XFAIL=1 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
directory stat:
  key: DS
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_directory_stat ENV_FILE=singleprovider_singleclient_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider directory stat directio:
  key: MDSD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_stat ENV_FILE=multiprovider_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider proxy regular file CRUD proxyio:
  key: MPRFCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_CRUD ENV_FILE=multiprovider_proxy IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
singleprovider directory CRUD multiclient directio:
  key: SDCMD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - |
        make SUITE=test_multi_directory_CRUD ENV_FILE=singleprovider_multiclient_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider proxy s3 regular file stat proxyio:
  key: MPSRFSP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_stat ENV_FILE=multiprovider_proxy_s3 IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
authorization:
  key: AUT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make test_oneclient_src SUITE=test_authorization  ENV_FILE=singleclient_authorization IGNORE_XFAIL=1
      working-dir: onedata-acceptance
      description: Run acceptance oneclient tests in Chrome
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
singleprovider regular file stat multiclient proxyio:
  key: SRFSMP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - |
        make SUITE=test_multi_reg_file_stat ENV_FILE=singleprovider_multiclient_proxyio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider proxy directory stat proxyio:
  key: MPDSP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_stat ENV_FILE=multiprovider_proxy IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider regular file stat proxyio:
  key: MRFSP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_stat ENV_FILE=multiprovider_proxyio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider regular file CRUD directio:
  key: MRFCD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_CRUD ENV_FILE=multiprovider_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiclient authorization:
  key: MA
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_authorization ENV_FILE=multiclient_authorization IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider s3 regular file stat proxyio:
  key: MSRFSP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_stat ENV_FILE=multiprovider_s3 IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider proxy s3 regular file CRUD proxyio:
  key: MPSRFCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_CRUD ENV_FILE=multiprovider_proxy_s3 IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider proxy regular file stat proxyio:
  key: MPRFSP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_stat ENV_FILE=multiprovider_proxy IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
singleprovider extended attributes:
  key: SEA
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - |
        make SUITE=test_extended_attributes ENV_FILE=singleprovider_singleclient_proxyio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
regular file stat directio:
  key: RFSD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_reg_file_stat ENV_FILE=singleprovider_singleclient_directio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider proxy directory CRUD proxyio:
  key: MPDCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_directory_CRUD ENV_FILE=multiprovider_proxy IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider regular file CRUD proxyio:
  key: MRFCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_CRUD ENV_FILE=multiprovider_proxyio IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
multiprovider s3 regular file CRUD proxyio:
  key: MSRFCP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      <<: *run-acceptance-tests
      scripts:
      - make SUITE=test_multi_reg_file_CRUD ENV_FILE=multiprovider_s3 IGNORE_XFAIL=1 TIMEOUT=420 test_oneclient_src
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-and-working-dir
  artifacts: *artifacts
  requirements: *requirements
  artifact-subscriptions: []
