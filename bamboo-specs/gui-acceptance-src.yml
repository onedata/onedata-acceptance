version: 2
plan:
  project-key: VFS
  key: GAOT
  name: gui acceptance src
  description: GUI acceptance tests using environment deployed from sources
variables:
  # OC_IMAGE_OVERRIDE: null
  # OP_IMAGE_OVERRIDE: null
  # OZ_IMAGE_OVERRIDE: null
  version_major: '2'
  version_minor: '1'
repositories:
- onedata-acceptance:
    scope: global
branches:
  create: manually
  delete:
    after-deleted-days: never
    after-inactive-days: 30
  link-to-jira: true
notifications:
- events:
  - plan-failed
  recipients:
  - users:
    - plgjliput
labels: []
triggers: []
dependencies:
  require-all-stages-passing: true
  enabled-for-branches: true
  block-strategy: none
  plans: []
other:
  concurrent-build-plugin: '3'
  all-other-apps:
    custom:
      com.atlassian.bamboo.plugin.hungbuildkiller:
        stopped.enabled: 'true'
        add_comment_when_hung.enabled: 'true'
      buildExpiryConfig:
        period: weeks
        expiryTypeBuildLog: 'true'
        enabled: 'true'
        expiryTypeArtifact: 'true'
        duration: '1'

stages:
# - Build:
#     manual: false
#     final: false
#     jobs:
#     - Build
- Acceptance Test:
    manual: false
    final: false
    jobs:
    - Chrome POSIX tests multiuser
    - Chrome onepanel deployment basic tests
    - Chrome oneprovider ACL subdirectories
    - Codetag Tracker
    - Chrome onezone automations tests
    - Chrome qos basic
    - Chrome onezone harvesters basic tests
    - Chrome oneprovider ACL directories privileges create
    - Chrome oneprovider archives incremental and nested
    - Chrome oneprovider ACL files metadata
    ## - Chrome oneprovider ACL directories privileges remove or create directory
    - Chrome onezone providers basic tests
    ## - Chrome oneprovider ACL multi metadata
    - Chrome POSIX tests
    - Chrome oneprovider ACL directories privileges metadata
    # - Chrome oneprovider groups multiuser tests
    - Chrome oneprovider ACL directories privileges remove
    - Chrome onezone spaces memberships privileges
    - Chrome oneprovider ACL remove file
    - Chrome oneprovider symlinks
    - Chrome transfers multi browser tests
    # - Chrome transfers tests
    - Chrome onezone harversters privileges add and remove
    - Chrome onezone groups multiuser single group
    - Chrome onepanel basic tests
    - Chrome multiprovider basic tests
    - Chrome onezone invite tokens with caveats
    - Chrome transfers files
    - Chrome shares basic tests
    - Chrome onezone spaces multiuser tests
    - Chrome storage sync charts
    - Chrome onezone spaces memberships privileges data
    - Chrome oneprovider data tab tests
    - Chrome transfers directories
    - Chrome onezone basic tests
    # - Chrome oneprovider groups tests
    # - Chrome oneprovider spaces
    # - Chrome oneprovider ACL files multi
    - Chrome onezone data discovery helpers
    - Chrome storage sync tests
    - Chrome oneprovider hardlinks
    - Chrome onezone data discovery tests
    - Chrome oneprovider ACL subfiles
    - Chrome onepanel deployment ceph
    - Chrome oneprovider ACL subdirectories remove
    - Chrome oneprovider ACL subjects
    - Chrome onezone data discovery querying
    - Chrome oneprovider archives tests
    - Chrome onepanel ceph spaces
    - Chrome onezone tokens delete
    # - Chrome oneprovider ACL subdirectories multi
    - Chrome onezone groups basic tests
    # - Chrome oneprovider hardlinks and symlinks
    - Chrome onezone spaces basic tests
    - Chrome onepanel login tests
    - Chrome oneprovider datasets privileges
    - Chrome onezone tokens tests
    - Chrome onezone harvesters index
    - Chrome onezone harversters index metadata
    - Chrome onezone harvesters memberships privileges
    - Chrome onezone harvesters effective privileges
    - Chrome onepanel two hosts deployment tests
    - Chrome oneprovider upload tests
    # - Selenium Chrome Tests
    - Chrome onezone invite tokens with consumer caveats
    - Chrome oneprovider datasets tests
    - Chrome onezone invite tokens
    - Chrome public shares tests
    # - Chrome oneprovider ACL directories
    - Chrome onezone groups multiuser tests
    # - Chrome storage sync charts tests
    - Chrome oneprovider ACL directories privileges
    - Chrome multiprovider QoS storage
    - Chrome oneprovider ACL basic
    - Chrome multiprovider QoS tests
    - Chrome QoS storage
    - Chrome metadata test
    - Chrome onepanel members tests
    # - Chrome oneprovider ACL directories multi
    - Chrome multiprovider multiuser tests
    - Chrome oneprovider ACL files
# Build:
#   key: BUILD
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#           integration: custom
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make -j4 build
#       environment: PREFER_STATIC_LINK=1
#       working-dir: onedata
#       description: Build
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - tar -czf onedata.tar.gz onedata/
#       description: Package
#   final-tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   artifacts:
#   - name: onedata.tar.gz
#     pattern: onedata.tar.gz
#     shared: true
#     required: false
#   requirements:
#   - system.docker.executable
#   - onedata
#   artifact-subscriptions: []
Chrome POSIX tests multiuser:
  key: CPTM
  other: &common-opts
    clean-working-dir: true
    all-other-apps:
      custom:
        auto: {}
        clover:
          useLocalLicenseKey: 'true'
        buildHangingConfig.enabled: 'false'
  tasks:
  - script: &clear-env
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - curl ${bamboo.OnedataFinalTasksURL} | bash -
      description: Clear env
  - script: &restart-minikube
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - sudo ${HOME}/restart_minikube.sh
      description: Restart minikube
  - checkout: &checkout
      path: onedata-acceptance
      force-clean-build: 'true'
      description: Checkout Default Repository
  - script: &init-submodules
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - |-
        git remote set-url origin ${bamboo.repository.git.repositoryUrl}
        git remote -v
        make submodules
      working-dir: onedata-acceptance
      description: Init submodules
  - script: &download-artifacts
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
      working-dir: onedata-acceptance
      description: Download artifacts
  - script: 
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_posix_multiuser BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: &parse-test-results
      type: junit
      ignore-time: 'false'
      test-results: onedata-acceptance/test-reports/results*.xml
      description: Parse test results
  - script: &pack-logs
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - |-
        cp onedata-acceptance/test-reports/*.xml onedata-acceptance/tests/gui/logs
        cp onedata-acceptance/one_env/sources_info.yaml onedata-acceptance/tests/gui/logs
        mv onedata-acceptance/tests/gui/logs/report.* onedata-acceptance/tests/gui/logs/gui_report
        mv onedata-acceptance/tests/gui/logs/gui_report/images.yaml onedata-acceptance/tests/gui/logs
      description: Pack logs
  - script: &clear-env-in-onedata
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - curl ${bamboo.OnedataFinalTasksURL} | bash -
      working-dir: onedata-acceptance
      description: Clear env
  artifacts: &artifacts
    - name: report
      location: onedata-acceptance/tests/gui/logs/
      pattern: '**/*.*'
      shared: false
      required: false
    - name: onezone_images
      location: onedata-acceptance/onezone_images
      pattern: docker-dev-build-list.json
      shared: false
      required: false
    - name: oneprovider_images
      location: onedata-acceptance/oneprovider_images
      pattern: docker-dev-build-list.json
      shared: false
      required: false
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onepanel deployment basic tests:
  key: CODBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onepanel_deployment_basic ENV_FILE=1oz_1op_not_deployed BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider ACL subdirectories:
  key: COAS
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_subdir BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Codetag Tracker:
  key: CDTR
  other: *common-opts
  tasks:
  - checkout:
      force-clean-build: 'true'
      description: Checkout Default Repository
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - |-
        git remote set-url origin ${bamboo.repository.git.repositoryUrl}
        git remote -v
        make submodules
      description: Init submodules
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make codetag-tracker BRANCH=${bamboo.planRepository.branchName}
      description: Codetag Tracker
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone automations tests:
  key: COAT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_automation BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome qos basic:
  key: CQB
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_deployed SUITE=test_qos_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone harvesters basic tests:
  key: COHBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_harvesters_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider ACL directories privileges create:
  key: COADPC
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_dir_privileges_create BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider archives incremental and nested:
  key: COAIN
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_archives_incremental_and_nested BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome oneprovider ACL files metadata:
  key: COAFM2
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_files_metadata BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
# Chrome oneprovider ACL directories privileges remove or create directory:
#   key: COADPRCD
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_acl_dir_privileges_remove_create BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   - onedata
#   artifact-subscriptions: []
Chrome onezone providers basic tests:
  key: COPBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_providers_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
# Chrome oneprovider ACL multi metadata:
#   key: COAMM
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_acl_multi_metadata BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   - onedata
#   artifact-subscriptions: []
Chrome POSIX tests:
  key: CPT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_posix BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome oneprovider ACL directories privileges metadata:
  key: COADPM
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_dir_privileges_metadata BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
# Chrome oneprovider groups multiuser tests:
#   key: COGMT
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_groups_multiuser BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   artifact-subscriptions: []
Chrome oneprovider ACL directories privileges remove:
  key: COADPR
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_dir_privileges_remove BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone spaces memberships privileges:
  key: COSMP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_spaces_memberships_privileges BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome oneprovider ACL remove file:
  key: COARF
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_files BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider symlinks:
  key: COSL
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_symlinks BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome transfers multi browser tests:
  key: CTMBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_transfers_multi ENV_FILE=1oz_2op_deployed BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
# Chrome transfers tests:
#   key: CTT
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_transfers ENV_FILE=1oz_2op_deployed BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   artifact-subscriptions: []
Chrome onezone harversters privileges add and remove:
  key: COHPAR
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_harvesters_privileges_add_remove BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone groups multiuser single group:
  key: COGMSG
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_groups_multiuser_single_group BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onepanel basic tests:
  key: COBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onepanel_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome multiprovider basic tests:
  key: CMBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_deployed SUITE=test_multiprovider_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone invite tokens with caveats:
  key: COITWC
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_elasticsearch SUITE=test_onezone_invite_tokens_with_caveats BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome transfers files:
  key: CTF
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_transfers_files ENV_FILE=1oz_2op_deployed BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome shares basic tests:
  key: CSBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_shares_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onezone spaces multiuser tests:
  key: COSMT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_spaces_multiuser BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome storage sync charts:
  key: CSSC
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_storage_sync_charts BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onezone spaces memberships privileges data:
  key: COSMPD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_spaces_memberships_privileges_data BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome oneprovider data tab tests:
  key: CODTT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_data_tab BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome transfers directories:
  key: CTD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_transfers_directories ENV_FILE=1oz_2op_deployed BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onezone basic tests:
  key: COBTT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
# Chrome oneprovider groups tests:
#   key: COGT
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_groups BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   artifact-subscriptions: []
# Chrome oneprovider spaces:
#   key: COS
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_spaces BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - clean:
#       description: Cleanup
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   artifact-subscriptions: []
# Chrome oneprovider ACL files multi:
#   key: COAFM
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_acl_files_multi BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   - onedata
#   artifact-subscriptions: []
Chrome onezone data discovery helpers:
  key: CODDH
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_data_discovery_helpers BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome storage sync tests:
  key: CSST
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_storage_sync BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome oneprovider hardlinks:
  key: COH
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_hardlinks BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone data discovery tests:
  key: CODDT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_data_discovery BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider ACL subfiles:
  key: COASF
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_subfile BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onepanel deployment ceph:
  key: CODC
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onepanel_deployment_ceph ENV_FILE=1oz_1op_not_deployed BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider ACL subdirectories remove:
  key: COASD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_subdir_remove BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider ACL subjects:
  key: COABS
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_subjects BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone data discovery querying:
  key: CODDQ
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_data_discovery_querying BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider archives tests:
  key: COAT2
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_archives BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onepanel ceph spaces:
  key: COCS
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onepanel_ceph_spaces ENV_FILE=1oz_1op_not_deployed BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone tokens delete:
  key: COTD
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_elasticsearch SUITE=test_onezone_tokens_delete BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
# Chrome oneprovider ACL subdirectories multi:
#   key: COASM
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_acl_subdir_multi BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   - onedata
#   artifact-subscriptions: []
Chrome onezone groups basic tests:
  key: COGBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_groups_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
# Chrome oneprovider hardlinks and symlinks:
#   key: COHS
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_hardlinks_and_symlinks BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   - onedata
#   artifact-subscriptions: []
Chrome onezone spaces basic tests:
  key: COSBT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_spaces_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onepanel login tests:
  key: COLT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onepanel_login BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider datasets privileges:
  key: CODP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_datasets_privileges BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onezone tokens tests:
  key: COTT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_elasticsearch SUITE=test_onezone_tokens BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone harvesters index:
  key: COHI
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_harvesters_index BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone harversters index metadata:
  key: COHIM
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_harvesters_index_metadata BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone harvesters memberships privileges:
  key: COHMP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_harvesters_memberships_privileges BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onezone harvesters effective privileges:
  key: COHEP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_1op_elasticsearch SUITE=test_onezone_harvesters_effective_privileges BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onepanel two hosts deployment tests:
  key: COTHDT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onepanel_deployment_with_2_hosts ENV_FILE=1oz_1op_not_deployed_2_nodes BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider upload tests:
  key: COUT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_upload BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
# Selenium Chrome Tests:
#   key: CT
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - artifact-download:
#       artifacts:
#       - name: onedata-docker-build-list.txt
#       source-plan: ODSRV-K8SD
#       description: Get development docker image tags
#   - script:
#       interpreter: SHELL
#       scripts:
#       - |-
#         #!/bin/bash
#         set -e

#         ## PARSE IMAGE IDS

#         OZ_IMAGE_OVERRIDE=$bamboo_OZ_IMAGE_OVERRIDE
#         OP_IMAGE_OVERRIDE=$bamboo_OP_IMAGE_OVERRIDE
#         OC_IMAGE_OVERRIDE=$bamboo_OC_IMAGE_OVERRIDE

#         echo "listing root dir"
#         ls
#         echo "Contents of onedata-docker-build-list.txt"
#         cat onedata-docker-build-list.txt || ( echo "onedata-docker-build-list.txt not provided!" && exit 1 )

#         while read line; do
#           component=`echo ${line} | cut -d : -f 1`
#           image=`echo ${line} | cut -d : -f 2-`
#           [[ $component =~ onezone ]] && [[ -z "$OZ_IMAGE_OVERRIDE" ]] && OZ_IMAGE_OVERRIDE=$image || true
#           [[ $component =~ oneprovider ]] && [[ -z "$OP_IMAGE_OVERRIDE" ]] && OP_IMAGE_OVERRIDE=$image || true
#           [[ $component =~ oneclient ]] && [[ -z "$OC_IMAGE_OVERRIDE" ]] && OC_IMAGE_OVERRIDE=$image || true
#         done <onedata-docker-build-list.txt

#         echo "Using OZ: ${OZ_IMAGE_OVERRIDE}"
#         echo "Using OP: ${OP_IMAGE_OVERRIDE}"
#         echo "Using OC: ${OC_IMAGE_OVERRIDE}"

#         cd onedata

#         make checkout_getting_started

#         ./getting_started/bin/retag.sh --oz-to $OZ_IMAGE_OVERRIDE --op-to $OP_IMAGE_OVERRIDE --oc-to $OC_IMAGE_OVERRIDE
#       description: Retag getting-started images
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make test_gui_acceptance_release_chrome
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - onedata
#   artifact-subscriptions: []
Chrome onezone invite tokens with consumer caveats:
  key: COITWCC
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_elasticsearch SUITE=test_onezone_invite_tokens_with_consumer_caveats BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider datasets tests:
  key: CODT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_datasets BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
Chrome onezone invite tokens:
  key: COIT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_elasticsearch SUITE=test_onezone_invite_tokens BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome public shares tests:
  key: CPST
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_public_shares BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
# Chrome oneprovider ACL directories:
#   key: COAD
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_acl_dir BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   - onedata
#   artifact-subscriptions: []
Chrome onezone groups multiuser tests:
  key: COGMUT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onezone_groups_multiuser BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  artifact-subscriptions: []
# Chrome storage sync charts tests:
#   key: CSSCT
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make artifact_op_worker artifact_oz_worker artifact_cluster_manager artifact_onepanel artifact_onezone artifact_onedata
#       working-dir: onedata-acceptance
#       description: Unpack subprojects artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_storage_sync_charts BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   artifact-subscriptions: []
Chrome oneprovider ACL directories privileges:
  key: COADP
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_dir_privileges BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome multiprovider QoS storage:
  key: CMQS
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_deployed SUITE=test_multiprovider_qos_storage BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider ACL basic:
  key: COAB
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_basic BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome multiprovider QoS tests:
  key: CMQT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_deployed SUITE=test_multiprovider_qos BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome QoS storage:
  key: CQS
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_deployed SUITE=test_qos_storage BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome metadata test:
  key: CMT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_metadata BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome onepanel members tests:
  key: COMT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_onepanel_members BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
# Chrome oneprovider ACL directories multi:
#   key: COADM
#   other:
#     clean-working-dir: true
#     all-other-apps:
#       custom:
#         auto: {}
#         clover:
#           useLocalLicenseKey: 'true'
#         buildHangingConfig.enabled: 'false'
#   tasks:
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       description: Clear env
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - sudo ${HOME}/restart_minikube.sh
#       description: Restart minikube
#   - checkout:
#       path: onedata
#       force-clean-build: 'true'
#       description: Checkout Default Repository
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         git remote set-url origin ${bamboo.repository.git.repositoryUrl}
#         git remote -v
#         make submodules
#       working-dir: onedata-acceptance
#       description: Init submodules
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - one_env/onenv pull_artifacts --hostname ${bamboo.artifactRepoHostname} --port ${bamboo.artifactRepoPort} branchConfig.yaml
#       working-dir: onedata-acceptance
#       description: Download artifacts
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - make SUITE=test_oneprovider_acl_dir_multi BROWSER=Chrome TIMEOUT=600 test_gui_src
#       working-dir: onedata-acceptance
#       description: Run Selenium tests
#   final-tasks:
#   - test-parser:
#       type: junit
#       ignore-time: 'false'
#       test-results: onedata/test-reports/results*.xml
#       description: Parse test results
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - |-
#         cp onedata/test-reports/*.xml onedata/tests/gui/logs
#         cp onedata/one_env/sources_info.yaml onedata/tests/gui/logs
#         mv onedata/tests/gui/logs/report.* onedata/tests/gui/logs/gui_report
#         mv onedata/tests/gui/logs/gui_report/images.yaml onedata/tests/gui/logs
#       description: Pack logs
#   - script:
#       interpreter: BINSH_OR_CMDEXE
#       scripts:
#       - curl ${bamboo.OnedataFinalTasksURL} | bash -
#       working-dir: onedata-acceptance
#       description: Clear env
#   artifacts:
#   - name: report
#     location: onedata/tests/gui/logs/
#     pattern: '**/*.*'
#     shared: false
#     required: false
#   - name: onezone_images
#     location: onedata/onezone_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   - name: oneprovider_images
#     location: onedata/oneprovider_images
#     pattern: docker-dev-build-list.json
#     shared: false
#     required: false
#   requirements:
#   - kubeadm
#   - onedata
#   artifact-subscriptions: []
Chrome multiprovider multiuser tests:
  key: CMMT
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make ENV_FILE=1oz_2op_deployed SUITE=test_multiprovider_multiuser BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
Chrome oneprovider ACL files:
  key: COAF
  other: *common-opts
  tasks:
  - script: *clear-env
  - script: *restart-minikube
  - checkout: *checkout
  - script: *init-submodules
  - script: *download-artifacts
  - script:
      interpreter: BINSH_OR_CMDEXE
      scripts:
      - make SUITE=test_oneprovider_acl_files BROWSER=Chrome TIMEOUT=600 test_gui_src
      working-dir: onedata-acceptance
      description: Run Selenium tests
  final-tasks:
  - test-parser: *parse-test-results
  - script: *pack-logs
  - script: *clear-env-in-onedata
  artifacts: *artifacts
  requirements:
  - kubeadm
  - onedata
  artifact-subscriptions: []
